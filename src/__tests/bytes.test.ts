import { expect, test } from "vitest";

import { chunkHexToBytes32BigIntArray, summarizeFunctionReturnData } from "@/utils/bytes";
import { HashString } from "@/utils/types.generic";

const returnData: HashString = "0x000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000070000000000000000000000000000000000000000000000000000000000000";

const bytesArray: HashString[] = [
  "0x0000000000000000000000000000000000000000000000000000000000000020",
  "0x0000000000000000000000000000000000000000000000000000000000000007",
  "0x00000000000000000000000000000000000000000000000000000000000000e0",
  "0x0000000000000000000000000000000000000000000000000000000000000120",
  "0x00000000000000000000000000000000000000000000000000000000000001a0",
  "0x00000000000000000000000000000000000000000000000000000000000001e0",
  "0x0000000000000000000000000000000000000000000000000000000000000220",
  "0x0000000000000000000000000000000000000000000000000000000000000260",
  "0x00000000000000000000000000000000000000000000000000000000000002a0",
  "0x0000000000000000000000000000000000000000000000000000000000000020",
  "0x0000000000000000000000000000000000000000000000000000000000000001",
  "0x0000000000000000000000000000000000000000000000000000000000000060",
  "0x0000000000000000000000000000000000000000000000000000000000000020",
  "0x0000000000000000000000000000000000000000000000000000000000000020",
  "0x0000000000000000000000000000000000000000000000000000000000000001",
  "0x0000000000000000000000000000000000000000000000000000000000000020",
  "0x0000000000000000000000000000000000000000000000000cb3b7a8b0b5ef7b",
  "0x0000000000000000000000000000000000000000000000000000000000000020",
  "0x0000000000000000000000000000000000000000000000000000000000000001",
  "0x0000000000000000000000000000000000000000000000000000000000000020",
  "0x00000000000000000000000000000000000000000000000135c7aea7fcce269b",
  "0x0000000000000000000000000000000000000000000000000000000000000020",
  "0x0000000000000000000000000000000000000000000000000000000000000001",
  "0x0000000000000000000000000000000000000000000000000000000000000000",
] as const;

test("chunkHexToBytes32BigIntArray", () => {
  const result = chunkHexToBytes32BigIntArray(returnData);

  expect(result).toEqual(bytesArray);
})